!function(e){"use strict";var o,t="merchant-coupons",n="deals-and-sales",a="magic-receipts",s=document.getElementById(t),i=document.getElementById(n),r=document.getElementById(a),c=document.getElementById("blog-post-contents"),p=e("body"),d="//www.swagbucks.com",l=!1,u="redirect",b={},m=document.currentScript,C={getType:function(e,o){return Object.prototype.toString.call(o).slice(8,-1).toLowerCase()===e.toLowerCase()},isObject:function(e){return this.getType("object",e)},isArray:function(e){return this.getType("array",e)},isArrayNotEmpty:function(e){return this.isArray(e)&&e.length>0},getAssetFullUrl:function(e){if(e.startsWith("old-navy-black-friday-deals.html")||e.startsWith("old-navy-black-friday-deals.html"))return e;if(m){var o=new URL(m.html).origin;return e.startsWith("../index.html")?o+e:o+"/"+e}return e}};function f(d){C.isObject(d)&&function(e){var o=e.coupons,t=e.instoreOffers,n=e.regularCoupons,a=!1;C.isArrayNotEmpty(o)&&(b.coupons=o,a=!0);C.isArrayNotEmpty(t)&&(b.magicReceipts=t,a=!0);C.isArrayNotEmpty(n)&&(b.deals=n,a=!0);return a}(d)&&function(d){var m;b.merchantName=d.name,b.redirectLink=d.shopLink,s&&b.coupons&&(m=new Promise((function(e,o){var t=document.createElement("script");t.src=C.getAssetFullUrl("../dist-non-modules/content/shared/clipboard-2.0.8.min.3ab9847722a1cf697185.html"),t.addEventListener("load",e),c.insertAdjacentElement("afterbegin",t)})));f=document.createElement("link"),f.rel="stylesheet",f.href=C.getAssetFullUrl("../dist-non-modules/content/components/blog-coupons/coupons.bdb9bbd1bc2f52fbc6a3.html"),c.insertAdjacentElement("afterbegin",f),function(){s&&b.coupons&&(s.insertAdjacentHTML("beforeend",h(b.coupons,t)),y(s));i&&b.deals&&(i.insertAdjacentHTML("beforeend",h(b.deals,n)),y(i));r&&b.magicReceipts&&(r.insertAdjacentHTML("beforeend",h(b.magicReceipts,a)),y(r))}(),document.body.insertAdjacentHTML("beforeend",'<div id="sbPopupModalWrapper"><aside id="sbPopupModal"><section id="sbPopupModalCoupon" class="sbPopupModalTop" hidden><h2 class="sbPopupModalTitle">Copy the code</h2><p class="sbPopupModalCopy"><a class="sbPopupModalCouponLink sbPrimaryColor" href="" target="_blank">Go to <var class="merchantNameContainer">'+b.merchantName+'</var></a> and paste the code at checkout</p><span id="sbPopupModalCouponCode" class="sbCouponCodeWrapper"></span><button id="sbPopupModalCouponCodeCopy" class="sbCta sbBgPrimaryColor sbPopupModalBtn" data-clipboard-target="sbPopupModalCouponCode">Copy</button></section><section id="sbPopupModalDeals" class="sbPopupModalTop" hidden><h2 id="sbPopupModalDealsTitle" class="sbPopupModalTitle">Offer is activated</h2><p class="sbPopupModalCopy">Shop now at <var class="sbPrimaryColor">'+b.merchantName+'</var> to save!</p><a class="sbCta sbBgPrimaryColor sbPopupModalBtn sbPopupModalCouponLink" href="" target="_blank">Go to <var>'+b.merchantName+'</var></a></section><button id="sbPopupModalExit" class="sbCta" aria-label="Close"></button></aside></div>'),function(n){var a=function(){var o=e("#sbPopupModalWrapper"),n=document.getElementById("sbPopupModalCoupon"),a=document.getElementById("sbPopupModalDeals"),s=document.getElementById("sbPopupModalExit"),i=document.getElementById("sbPopupModalCouponCode"),r=document.getElementById("sbPopupModalCouponCodeCopy"),c=document.getElementsByClassName("sbPopupModalTitle")[0],d="noScroll isModalOpen",l="sbPopupModalCodeCopied";function u(e){o.fadeOut().promise().done((function(){p.removeClass(d),e.stopPropagation(),f()}))}function b(e){(e.keyCode||e.which)===27&&u(e)}function m(e){this===e.target&&u(e)}function C(e,o){r.textContent=e,c.textContent=o,r.classList.add(l)}function f(){C("Copy","Copy the code"),r.classList.remove(l),n.hidden=!0,a.hidden=!0}return{initCopyCodeModal:function(e){if(ClipboardJS.isSupported()){if(i){var o=new ClipboardJS(r);i.textContent=e.children[1].textContent.toUpperCase(),r.setAttribute("data-clipboard-target","#sbPopupModalCouponCode"),r.setAttribute("data-clipboard-action","copy"),o.on("success",(function(e){C("Copied","Coupon code successfully copied! Paste at checkout when you're done shopping!"),e.clearSelection()}))}}else r.hidden=!0},addMerchantPageLink:function(e,o){(o===t?n:a).getElementsByClassName("sbPopupModalCouponLink")[0].href=e},show:function(e){var i=document.getElementById("confirmEmailBar"),r=document.getElementById("sbPopupModal");e===t?n.hidden=!1:a.hidden=!1,p.addClass(d),i&&r.classList.add("withConfirmBar"),o.fadeIn(),s.addEventListener("click",u),o.click(m),p.keydown(b)}}}();function i(e){var a={},i=e.dataset.action,c=e.dataset.offerType;event.preventDefault(),l||c!==t||(!function(){for(var e=s.getElementsByClassName("sbCouponCodeWrapper"),o=e.length,t="revealed",n=0;n<o;n++){var a=e[n];a.classList.add(t),a.setAttribute("data-action",u)}}(),l=!0),a.shopLink=e.dataset.offerLink,o=g(a.shopLink.split("?")[1]).coupon,"redirect"===i&&(window.open(function(e,o){var t=o?window.location.pathname:window.location.href,n="coup="+e;if(t.indexOf("coup=")>-1)return t.replace(/coup=(\d+)/,n);var a=(t.indexOf("?")>-1?"&":"?")+n;if(t.indexOf("#")>-1){var s=t.split("#");return s[0]+a+"#"+s[1]}return t+a}(o)).focus(),window.location.href=b.redirectLink),c===t?n.then((function(){r(e,a.shopLink,c)})):r(e,a.shopLink,c)}function r(e,o,n){n===t&&a.initCopyCodeModal(e),a.addMerchantPageLink(o,n),a.show(n)}document.addEventListener("click",(function(e){var o=e.target.closest(".sbCouponCodeWrapper");o&&i(o)}))}(m),function(){var e=window.location.href.split("?");if(2===e.length){var t=g(e[1]);if("coup"in t){o=t.coup;var n=document.getElementById("sbCouponCode"+o);u="openModal",n.dataset.action=u,n.click()}}}();var f}(d)}function h(e,o){var s=e.length,i="",r="";o===t?r="Coupons &amp; Promo Codes":o===n?r="Deals &amp; Sales":o===a&&(r="Magic Receipts");for(var c=0;c<s;c++){i+=v(e[c],o)}return'<section id="sbShopMerchantDetailCoupons"><h2 id="sbShopMerchantDetailCouponsSubtitle" class="sbShopMerchantDetailSubtitle"><var class="sbCouponMerchantName">'+b.merchantName+"</var> "+r+"</h2>"+i+"</section>"}function v(e,o){return o===a?(s=(n=e).offerLink,i=n.offerTitle,r=n.description,c=n.offerID,p=n.sbAmount,'<a class="couponLink" href="'+s+'"><section id="sbInStoreItem-'+c+'" class="sbInStoreListItem"><div class="sbInStoreListItemText"><div class="sbInStoreListItemMainText"><p class="sbInStoreListItemTitle">'+i+'</p><p class="sbInStoreListItemCashBack sbPrimaryColor">Earn <var>'+p+' SB</var></p></div><p class="sbInStoreListItemSecondaryText">'+r+'</p></div><div class="sbInStoreListItemCtaWrapper"><button class="sbCta sbInStoreListItemBtn sbPrimaryColor">Learn More<span class="sbVisuallyHidden">about '+i+"</span></button></div></section></a>"):function(e,o){var n=e.description;return'<a class="couponLink" href="'+e.shopLink+'"><section class="sbCoupon"><div class="sbCouponDetailsContainer"><p class="sbCouponDescription" title="'+n+'">'+n+'</p><p class="sbCouponExpiration"><var class="sbCouponExpirationDate">'+(a=e.expiration,s={year:"numeric",day:"2-digit",month:"long"},i="Expires: "+new Date(a).toLocaleDateString(void 0,s),(a?i:"No Expiration Date")+'</var></p></div><div class="sbCouponCodeContainer">')+function(e,o){var n=e.shopLink,a=g(n.split("?")[1]).coupon;return'<button id="sbCouponCode'+a+'" class="sbCouponCodeWrapper sbCta" data-action="'+u+'" data-offer-link="'+n+'" data-coupon-id="'+a+'" data-offer-type="'+o+'">'+(o===t?'<span class="sbCouponCodeReveal">Reveal Code</span><span class="sbCouponCodeText notranslate">'+e.code+"</span>":'<span class="sbCouponCodeReveal">Claim Deal</span>')+"</button>"}(e,o)+"</div></section></a>";var a,s,i}(e,o);var n,s,i,r,c,p}function y(e){e.hidden=!1}function g(e,o){var t,n,a={};"boolean"==typeof o&&o&&(e=e.substring(1));for(var s=0,i=(t=e.split("&")).length;s<i;s++){var r=t[s];""!==r&&(a[(n=r.split("="))[0]]=n[1])}return a}!function(){if(c){var o=function(e){return d+"/?cmd=mp-sh-merchant-info&merchantID="+e}(c.getAttribute("data-merchant-id"));e.ajax(o,{dataType:"jsonp",success:f})}}()}(jQuery);